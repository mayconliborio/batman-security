<template>
  <div
    id="vulnerability-row"
    class="w-100 is-clickable flex-justify-between"
    @click="$emit('showClick', vulnerability)"
  >
    <span class="flex-justify-center" style="width: 10%">
      <img
        :src="
          require(`../../../src/assets/icons/critical-${vulnerability.criticalityLevel.value}.svg`)
        "
        :alt="'Grau de Criticidade: ' + vulnerability.criticalityLevel.name"
        :title="'Grau de Criticidade: ' + vulnerability.criticalityLevel.name"
      />
    </span>
    <span class="flex-justify-center" style="width: 25%">
      {{ vulnerability.title }}
    </span>
    <span class="flex-justify-center" style="width: 20%">
      {{ vulnerability.type.name }}
    </span>
    <span class="flex-justify-center" style="width: 25%">
      <span v-if="vulnerability.evidences">
        Evidencia
        <!--   exemplo import primeira imagem da evidencia   -->
        <!-- <img heigth="60px" :src="base64ToImg" alt="img-teste" />-->
      </span>
      <span class="error-text" v-else> Sem EvidÃªncia</span>
    </span>
    <span class="flex-justify-center" style="width: 10%">
      <i
        title="Editar Vulnerabilidade"
        :class="vulnerability.edit"
        class="is-clickable edit-button"
        @click="$emit('editClick', vulnerability)"
      ></i>
    </span>
    <span class="flex-justify-center" style="width: 10%">
      <i
        title="Excluir Vulnerabilidade"
        :class="vulnerability.delete"
        class="is-clickable delete-button"
        @click="$emit('deleteClick', vulnerability)"
      ></i>
    </span>
  </div>
</template>

<script>
export default {
  name: "VulnerabilityRow",
  props: {
    vulnerability: {},
  },
  computed: {
    base64ToImg() {
      return `data:image/png;base64 ${this.vulnerability.evidences[0]}`;
    },
  },
};
</script>

<style scoped lang="scss">
* {
  font-size: 18px;
}

#vulnerability-row {
  height: 80px;
  padding: 0 40px;
  border-bottom: 1px solid $blackColor;
  background-color: $rowColor;
  //user-select: auto !important;
}

#vulnerability-row:hover {
  background-color: $activeRowColor;
}

.span i:hover ~ #vulnerability-row {
  pointer-events: none;
}

.error-text {
  color: $dangerColor;
}

.edit-button:hover {
  color: $primaryColor;
}

.delete-button:hover {
  color: $dangerColor;
}
</style>
